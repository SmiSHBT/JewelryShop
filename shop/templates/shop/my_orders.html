{% extends 'shop/base.html' %}
{% load i18n %}

{% block content %}
<div class="container mt-4">
    <h2>{% trans "–ú–æ–∏ –∑–∞–∫–∞–∑—ã" %}</h2>

    {% if orders %}
        {% for order in orders %}
            <div class="card mb-4 order-card" >
                <div class="card-header">
                    <strong>{% trans "–ó–∞–∫–∞–∑ ‚Ññ" %}{{ order.id }}</strong>
                    <span class="float-end">{{ order.created_at|date:"d.m.Y H:i" }}</span>
                </div>
                <div class="card-body">
                    <p><strong>{% trans "–°—Ç–∞—Ç—É—Å:" %}</strong>
                        {% if order.status == 'pending' %}
                        üïí {% trans "–û–∂–∏–¥–∞–µ—Ç –ø–æ—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è" %}
                    {% elif order.status == 'processing' %}
                        üß∞ {% trans "–°–æ–±–∏—Ä–∞–µ—Ç—Å—è" %}
                    {% elif order.status == 'shipped' %}
                        üöö {% trans "–í –ø—É—Ç–∏" %}
                    {% elif order.status == 'delivered' %}
                        ‚úÖ {% trans "–î–æ—Å—Ç–∞–≤–ª–µ–Ω" %}
                    {% endif %}
                    </p>

                    <p><strong>{% trans "–ê–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏:" %}</strong> {{ order.address }}</p>
                    <p><strong>{% trans "–û–ø–ª–∞—Ç–∞:" %}</strong> {{ order.get_payment_method_display }}</p>

                    <ul>
                        {% for item in order.items.all %}
                            <li style="display: flex;">{{ item.product.name }} ‚Äî {{ item.quantity }} {% trans "—à—Ç." %}</li>
                        {% endfor %}
                    </ul>
                </div>
            </div>
        {% endfor %}
    {% else %}
        <p>{% trans "–í—ã –ø–æ–∫–∞ –Ω–µ —Å–¥–µ–ª–∞–ª–∏ –Ω–∏ –æ–¥–Ω–æ–≥–æ –∑–∞–∫–∞–∑–∞." %}</p>
    {% endif %}
</div>
{% endblock %}
